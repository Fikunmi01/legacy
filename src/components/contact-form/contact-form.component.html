<div class="relative flex lg:flex-row flex-col items-center">
  <img
    src="assets/Rectangle 29 (1).png"
    class="absolute inset-0 w-full h-full object-cover -z-10"
    alt=""
  />

  <div
    class="lg:m-20 m-4 relative items-start h-fit backdrop-blur-xl bg-white/20 border border-white/30 rounded-xl shadow-xl flex flex-col gap-y-5 p-2 lg:p-8 z-10"
  >
    <h1 class="font-lexend font-bold text-white text-3xl">
      Compare quotes and get life insurance in right way
    </h1>

    <form
      [formGroup]="contactForm"
      (ngSubmit)="onSubmit()"
      class="flex flex-col gap-y-3 border-b border-white items-start pb-4"
    >
      <div class="flex flex-col items-start gap-2">
        <label for="Name" class="font-lexend text-xl font-semibold text-white">
          Name<sup class="text-red-400">*</sup>
        </label>
        <div class="flex gap-3">
          <div class="flex flex-col">
            <input
              id="Name"
              formControlName="firstName"
              type="text"
              placeholder="First"
              class="border-[#FFFFFF66] w-48 bg-[#D9D9D933] backdrop-blur-sm rounded outline-none border p-2 placeholder-white/70 text-white"
              [class.border-red-400]="isFieldInvalid('firstName')"
            />
            <span
              *ngIf="isFieldInvalid('firstName')"
              class="text-red-400 text-sm mt-1"
            >
              {{ getFieldError("firstName") }}
            </span>
          </div>
          <div class="flex flex-col">
            <input
              id="lastname"
              formControlName="lastName"
              type="text"
              placeholder="Last"
              class="border-[#FFFFFF66] w-48 bg-[#D9D9D933] backdrop-blur-sm rounded outline-none border p-2 placeholder-white/70 text-white"
              [class.border-red-400]="isFieldInvalid('lastName')"
            />
            <span
              *ngIf="isFieldInvalid('lastName')"
              class="text-red-400 text-sm mt-1"
            >
              {{ getFieldError("lastName") }}
            </span>
          </div>
        </div>
      </div>

      <div class="flex flex-col gap-2">
        <label for="email" class="font-lexend text-xl font-semibold text-white">
          Email<sup class="text-red-400">*</sup>
        </label>
        <input
          id="Email"
          formControlName="email"
          type="text"
          placeholder="johndoes@email.com"
          class="border-[#FFFFFF66] w-96 bg-[#D9D9D933] backdrop-blur-sm rounded outline-none border p-2 placeholder-white/70 text-white"
          [class.border-red-400]="isFieldInvalid('email')"
        />
        <span *ngIf="isFieldInvalid('email')" class="text-red-400 text-sm">
          {{ getFieldError("email") }}
        </span>
      </div>

      <div class="flex flex-col gap-2">
        <label for="phone" class="font-lexend text-xl font-semibold text-white">
          Phone<sup class="text-red-400">*</sup>
        </label>
        <input
          id="phone"
          formControlName="phone"
          type="tel"
          placeholder="+1 (555) 123-4567"
          class="border-[#FFFFFF66] w-96 bg-[#D9D9D933] backdrop-blur-sm rounded outline-none border p-2 placeholder-white/70 text-white"
          [class.border-red-400]="isFieldInvalid('phone')"
          (keypress)="onPhoneKeyPress($event)"
        />
        <span *ngIf="isFieldInvalid('phone')" class="text-red-400 text-sm">
          {{ getFieldError("phone") }}
        </span>
      </div>

      <div class="flex flex-col gap-2">
        <label
          for="comment"
          class="font-lexend text-xl font-semibold text-white"
        >
          Comment or Message
        </label>
        <textarea
          class="border-[#FFFFFF66] w-96 bg-[#D9D9D933] backdrop-blur-sm rounded outline-none border p-2 placeholder-white/70 text-white resize-none"
          name="comment"
          id="comment"
          formControlName="comment"
          rows="5"
          placeholder="Tell us about your insurance needs or any questions you have..."
        ></textarea>
      </div>

      <!-- Status message for form submission -->
      <div
        *ngIf="submitMessage"
        class="w-96 p-3 rounded-md mb-3 border"
        [ngClass]="{
          'bg-green-500/20 border-green-400 text-green-300':
            submitMessage.includes('successfully'),
          'bg-red-500/20 border-red-400 text-red-300':
            !submitMessage.includes('successfully')
        }"
      >
        {{ submitMessage }}
      </div>

      <!-- Updated submit button with loading state -->
      <button
        type="submit"
        [disabled]="isSubmitting"
        class="bg-[#FAA316] hover:bg-[#FAA316]/90 disabled:bg-gray-500 disabled:cursor-not-allowed transition-colors p-3 rounded-md font-lexend font-semibold text-xl text-white"
      >
        {{ isSubmitting ? "Sending..." : "Submit" }}
      </button>
    </form>

    <div>
      <p class="text-white font-normal text-[22px]">
        Facing any problem to get a quote!
      </p>
      <span class="flex items-center gap-3 font-inter">
        <img src="assets/phone-call 1.png" alt="" />
        <span class="flex text-2xl items-center gap-2 font-bold font-inter">
          <p class="text-white text-xl">Call:</p>
          <a href="tel:+19087201060" class="text-xl underline text-[#FAA316]"
            >+19087201060</a
          >
        </span>
      </span>
    </div>
  </div>

  <div
    class="lg:m-20 m-4 p-4 lg:p-8 rounded-xl items-start flex flex-col gap-2 h-fit bg-[#1F2937]"
  >
    <h1 class="font-lexend font-semibold text-white text-3xl">
      Need Help Getting Started?
    </h1>
    <p class="font-lexend text-[15px] text-white">
      Our insurance advisors are ready to help you find the perfect coverage for
      your needs. Schedule a free consultation today.
    </p>

    <div class="flex flex-col gap-y-2">
      <div class="flex items-center gap-2 text-white">
        <img src="assets/Group 120.png" alt="" />
        <p>Personalized policy recommendations</p>
      </div>
      <div class="flex items-center gap-2 text-white">
        <img src="assets/Group 120.png" alt="" />
        <p>Expert advice on coverage options</p>
      </div>
      <div class="flex items-center gap-2 text-white">
        <img src="assets/Group 120.png" alt="" />
        <p>Expert advice on coverage options</p>
      </div>
      <div class="flex items-center gap-2 text-white">
        <img src="assets/Group 120.png" alt="" />
        <p>Assistance with the application process</p>
      </div>
    </div>

    <button
    (click)="scrollToSection('contact')"
      class="bg-[#FAA316] text-white p-3 rounded-md font-lexend font-semibold text-sm my-6"
    >
      Schedule a Consultation
    </button>

    <div>
      <img src="assets/Rectangle 55.png" alt="" />
    </div>
  </div>
</div>
